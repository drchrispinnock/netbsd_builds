
Horrid
# 1. nbmakeinfo. Build tools twice. Second time you get past it.
This is because the target info file exists...

(gdb) bt
#0  0x000007e98d1c2676 in output_multitable_row ()
   from /home/cjep/usr/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#1  0x000007e98d1c23e6 in multitable_item ()
   from /home/cjep/usr/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#2  0x000007e98d1b57e3 in cm_item ()
   from /home/cjep/usr/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#3  0x000007e98d1bd0f2 in reader_loop ()
   from /home/cjep/usr/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#4  0x000007e98d1aadf7 in handle_include ()
   from /home/cjep/usr/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#5  0x000007e98d1bd0f2 in reader_loop ()
   from /home/cjep/usr/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#6  0x000007e98d1c1362 in convert_from_loaded_file ()
   from /home/cjep/usr/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#7  0x000007e98d1ba71f in main ()
   from /home/cjep/usr/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo


# 2. libltio_plugin built with 0.0 (clang?)
cd ./tooldir.OpenBSD-6.9-amd64/libexec/gcc/x86_64--netbsd/10.3.0
cp -p liblto_plugin.so.0.0 liblto_plugin.so

# 3. nbmakeinfo


gcc and egcc just don't work for me - worse trouble.

-6.9-amd64/bin/nbmakeinfo  --core=tools/gcc/obj/build/gcc/nbmakeinfo.core     <
GNU gdb 6.3
Copyright 2004 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "amd64-unknown-openbsd6.9"...
(no debugging symbols found)

Core was generated by `nbmakeinfo'.
Program terminated with signal 11, Segmentation fault.
(no debugging symbols found)
Loaded symbols for /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
Reading symbols from /usr/lib/libc.so.96.0...done.
Loaded symbols for /usr/lib/libc.so.96.0
Reading symbols from /usr/libexec/ld.so...Error while reading shared library symbols:
Dwarf Error: wrong version in compilation unit header (is 4, should be 2) [in module /usr/libexec/ld.so]
#0  0x000004ee751b3686 in output_multitable_row ()
   from /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
(gdb) bt
#0  0x000004ee751b3686 in output_multitable_row ()
   from /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#1  0x000004ee751b33f6 in multitable_item ()
   from /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#2  0x000004ee751a67f3 in cm_item ()
   from /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#3  0x000004ee751ae102 in reader_loop ()
   from /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#4  0x000004ee7519be07 in handle_include ()
   from /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#5  0x000004ee751ae102 in reader_loop ()
   from /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#6  0x000004ee751b2372 in convert_from_loaded_file ()
   from /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
#7  0x000004ee751ab72f in main ()
---Type <return> to continue, or q <return> to quit---
   from /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmakeinfo
(gdb) 




#    create  libgcc/__gcc_bcmp.d
CC=/home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/x86_64--netbsd-gcc /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmkdep -f __gcc_bcmp.d.tmp  --   -std=gnu99   --sysroot=/home/cjep/netbsd-current/src/obj/destdir.amd64 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/lib/libgcc/libgcc -I/home/cjep/netbsd-current/src/external/gpl3/gcc/lib/libgcc/arch/x86_64 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/usr.bin/gcc/arch/x86_64 -DIN_GCC -DIN_LIBGCC2 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/../gcc/config/i386 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/. -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/../gcc -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/../include -fpic -fbuilding-libgcc -fno-stack-protector -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/gcc/config/i386 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/gcc/ginclude -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/config -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/config/i386 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/gcc -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/include -I. -DHAVE_CC_TLS -I/home/cjep/netbsd-current/src/external/gpl3/gcc/usr.bin/backend/obj     __gcc_bcmp.c &&  mv -f __gcc_bcmp.d.tmp __gcc_bcmp.d
x86_64--netbsd-gcc: fatal error: '-fuse-linker-plugin', but liblto_plugin.so not found
compilation terminated.
nbmkdep: compile failed.

*** Failed target:  __gcc_bcmp.d
*** Failed command: CC=/home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/x86_64--netbsd-gcc /home/cjep/netbsd-current/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbmkdep -f __gcc_bcmp.d.tmp -- -std=gnu99 --sysroot=/home/cjep/netbsd-current/src/obj/destdir.amd64 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/lib/libgcc/libgcc -I/home/cjep/netbsd-current/src/external/gpl3/gcc/lib/libgcc/arch/x86_64 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/usr.bin/gcc/arch/x86_64 -DIN_GCC -DIN_LIBGCC2 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/../gcc/config/i386 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/. -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/../gcc -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/../include -fpic -fbuilding-libgcc -fno-stack-protector -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/gcc/config/i386 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/gcc/ginclude -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/config -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/libgcc/config/i386 -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/gcc -I/home/cjep/netbsd-current/src/external/gpl3/gcc/dist/include -I. -DHAVE_CC_TLS -I/home/cjep/netbsd-current/src/external/gpl3/gcc/usr.bin/backend/obj __gcc_bcmp.c && mv -f __gcc_bcmp.d.tmp __gcc_bcmp.d
*** Error code 1

Stop.
nbmake[5]: stopped in /home/cjep/netbsd-current/src/external/gpl3/gcc/lib/libgcc/libgcc


Building sysinst. /usr/local/bin/bash to the rescue1

msg_xlat.sh: ERROR Wrong number of format specifiers in "openfail", got 5, e    xpected 4

*** Failed target:  sysinstmsgs.de
*** Failed command: /home/cjep/usr/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbs    ed "s/@@VERSION@@/9.99.82/" /home/cjep/usr/src/usr.sbin/sysinst/arch/amd64/.    ./../msg.mi.de /home/cjep/usr/src/usr.sbin/sysinst/arch/amd64/../i386/msg.md    .de /home/cjep/usr/src/usr.sbin/sysinst/arch/amd64/../../msg.mbr.de /home/cj    ep/usr/src/usr.sbin/sysinst/arch/amd64/../../msg.pm.de | /home/cjep/usr/src/    obj/tooldir.OpenBSD-6.9-amd64/bin/nbsed "s/@@MACHINE@@/amd64/" | /home/cjep/    usr/src/obj/tooldir.OpenBSD-6.9-amd64/bin/nbawk -f /home/cjep/usr/src/usr.sb    in/sysinst/arch/amd64/../../unif.awk -v defines="BOOTSEL AOUT2ELF HAVE_INSTA    LL_IMAGE" | /bin/sh /home/cjep/usr/src/usr.sbin/sysinst/arch/amd64/../../msg    _xlat.sh -f sysinstmsgs.fmtcnt > sysinstmsgs.de
 36 *** Error code 1
